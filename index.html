<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML-GARDEN</title>

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="favicons/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="favicons/favicon-48x48.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="favicons/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="favicons/android-chrome-512x512.png">

    <!-- Open Graph / Telegram Preview -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="HTML-GARDEN">
    <meta property="og:image" content="https://www.html-garden.fun/image/icon.png">
    <meta property="og:url" content="https://www.html-garden.fun/index.html">
    <meta name="twitter:card" content="summary_large_image">

    <link rel="stylesheet" href="mainpage.css">
</head>
<body>
    <video class="background-video background-video-desktop" autoplay loop muted playsinline preload="auto">
        <source src="image/trybutt.webm" type="video/webm">
    </video>
    <img src="image/butterwebp.webp" alt="" class="background-video background-video-desktop-webp" style="display: none;">
    <img src="image/butterwebp_720p.webp" alt="" class="background-video background-video-android" style="display: none;">
    <img src="image/butterflies_720p.apng" alt="" class="background-video background-video-ios" style="display: none;">

    <div class="main-content">
        <picture>
            <source srcset="image/welcome to html-garden.webp" type="image/webp">
            <img src="image/welcome to html-garden.png" alt="Welcome to HTML-GARDEN" class="main-title" loading="eager">
        </picture>

        <div class="shapka">
            <a href="manual.html" class="nav-link nav-manual">manual</a>
            <a href="description.html" class="nav-link nav-description">description</a>
            <a href="garden.html" class="nav-link nav-garden">HTML-GARDEN</a>
        </div>
    </div>

    <div class="copyright">
        <a href="https://cryptonerf.github.io/portfolio/" target="_blank" rel="noopener noreferrer">Copyright © 2025 Émile Alexanyan</a>
    </div>

    <script>
        // Определяем устройства
        const isAndroid = /Android/i.test(navigator.userAgent);
        const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        // Подключаем шрифт только для Android
        if (isAndroid) {
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = 'https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap';
            document.head.appendChild(link);

            // Применяем шрифт через style элемент с !important
            const style = document.createElement('style');
            style.textContent = `
                body, .nav-link, .copyright, .copyright a {
                    font-family: 'Comic Neue', 'Comic Sans MS', cursive !important;
                }
            `;
            document.head.appendChild(style);
        }

        const desktopVideo = document.querySelector('.background-video-desktop');
        const desktopWebp = document.querySelector('.background-video-desktop-webp');
        const androidWebp = document.querySelector('.background-video-android');
        const iosApng = document.querySelector('.background-video-ios');

        if (isIOS) {
            // На iOS используем APNG (Safari хорошо работает с APNG)
            desktopVideo.style.display = 'none';
            desktopWebp.style.display = 'none';
            androidWebp.style.display = 'none';
            iosApng.style.display = 'block';
        } else if (isAndroid) {
            // На Android используем WebP 720p
            desktopVideo.style.display = 'none';
            desktopWebp.style.display = 'none';
            iosApng.style.display = 'none';
            androidWebp.style.display = 'block';
        } else if (isMobile) {
            // На других мобильных устройствах используем APNG
            desktopVideo.style.display = 'none';
            desktopWebp.style.display = 'none';
            androidWebp.style.display = 'none';
            iosApng.style.display = 'block';
        } else {
            // На десктопе используем полноразмерный WebP 4K
            desktopVideo.style.display = 'none';
            androidWebp.style.display = 'none';
            iosApng.style.display = 'none';
            desktopWebp.style.display = 'block';
        }
    </script>
</body>
</html>